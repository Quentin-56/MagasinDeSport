<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml" lang="fr"><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8"/><link rel="stylesheet" href="../jacoco-resources/report.css" type="text/css"/><link rel="shortcut icon" href="../jacoco-resources/report.gif" type="image/gif"/><title>BoiteAOutil.java</title><link rel="stylesheet" href="../jacoco-resources/prettify.css" type="text/css"/><script type="text/javascript" src="../jacoco-resources/prettify.js"></script></head><body onload="window['PR_TAB_WIDTH']=4;prettyPrint()"><div class="breadcrumb" id="breadcrumb"><span class="info"><a href="../jacoco-sessions.html" class="el_session">Sessions</a></span><a href="../index.html" class="el_report">MagasinDeSport$All_in_MagasinDeSport.exec</a> &gt; <a href="index.source.html" class="el_package">controleur</a> &gt; <span class="el_source">BoiteAOutil.java</span></div><h1>BoiteAOutil.java</h1><pre class="source lang-java linenums">package controleur;

import javafx.fxml.FXMLLoader;
import javafx.scene.Parent;
import javafx.scene.Scene;
import javafx.stage.Modality;
import javafx.stage.Stage;
import main.Main;

import java.io.IOException;

<span class="nc" id="L12">public class BoiteAOutil {</span>



        /**
         * @brief appelle estUnNombreValable et verifie si il ny a pas de point =&gt; est un entier
         * @param saisieUtilisateur la chaine en entr√©e
         * @return true si saisieUtilisateur est un nombre entier positif et false sinon
         */
        public static boolean estUnNombreValableEntier(String saisieUtilisateur)
        {
<span class="fc bfc" id="L23" title="All 2 branches covered.">            if(estUnNombreValable(saisieUtilisateur) == false)</span>
            {
<span class="fc" id="L25">                return false;</span>
            }

<span class="fc" id="L28">            float res = Float.valueOf(saisieUtilisateur);</span>
            int i;
<span class="fc" id="L30">            i = (int)res;</span>

            //cas entier
<span class="fc bfc" id="L33" title="All 2 branches covered.">            if (i == res)</span>
            {
<span class="fc" id="L35">                return true;</span>
            }
            //cas non entier
            else
            {
<span class="fc" id="L40">                return false;</span>
            }
        }

        /**
         * @brief verifie si cest un nombre et quil est positif
         * @param saisieUtilisateur la chaine en entree
         * @return true si saisieUtilisateur est un nombre positif
         */
        public static boolean estUnNombreValable(String saisieUtilisateur)
        {
            float res;

            //test si saisieUtilisateur est un nombre
            try
            {
<span class="fc" id="L56">                res = Float.valueOf(saisieUtilisateur);</span>
            }
<span class="nc" id="L58">            catch(java.lang.NumberFormatException ex)</span>
            {
<span class="nc" id="L60">                return false;</span>
<span class="fc" id="L61">            }</span>

            //test si nombre positif
<span class="fc bfc" id="L64" title="All 2 branches covered.">            if(res &gt;= 0)</span>
            {
<span class="fc" id="L66">                return true;</span>
            }
            else
            {
<span class="fc" id="L70">                return false;</span>
            }

        }



        /**
         * Enlever les espaces avant le 1er caractere et apres le dernier caractere
         * @param saisieUtilisateur chaine a analyser
         * @return chaine nettoye
         */
        public static String supprimerEspace(String saisieUtilisateur)
        {
<span class="fc" id="L84">            String newStr =&quot;&quot;;</span>
<span class="fc" id="L85">            int compteur = 0;</span>
<span class="fc" id="L86">            int compteur2 =saisieUtilisateur.length()-1;</span>

<span class="pc bpc" id="L88" title="1 of 2 branches missed.">            if(saisieUtilisateur.isEmpty()){</span>
<span class="nc" id="L89">                return &quot;&quot;;</span>
            }

<span class="pc bpc" id="L92" title="1 of 4 branches missed.">            while(saisieUtilisateur.charAt(compteur) == ' ' &amp;&amp; compteur&lt;saisieUtilisateur.length()-1){</span>
<span class="fc" id="L93">                compteur++;</span>

            }
<span class="pc bpc" id="L96" title="1 of 4 branches missed.">            while(saisieUtilisateur.charAt(compteur2)==' '&amp;&amp; compteur2&gt;0){</span>
<span class="fc" id="L97">                compteur2--;</span>

            }
<span class="fc bfc" id="L100" title="All 2 branches covered.">            for(int i = compteur; i&lt;=compteur2; i++)</span>
            {
<span class="fc" id="L102">                newStr += saisieUtilisateur.charAt(i);</span>

            }
<span class="fc" id="L105">            return newStr;</span>
        }

        /**
         * @brief put a upper letter for the first letter of the saisieUtilisateur and lower letter for other letters
         * @param saisieUtilisateur the String to convert
         */
        public static String formaterCasse(String saisieUtilisateur)
        {
<span class="fc" id="L114">            String res = &quot;&quot;;</span>

            //cas ou la chaine en entree a une longueur superieure a 1
<span class="pc bpc" id="L117" title="1 of 2 branches missed.">            if (saisieUtilisateur.length() &gt; 1)</span>
            {
<span class="fc" id="L119">                saisieUtilisateur = saisieUtilisateur.substring(0, 1).toUpperCase() + saisieUtilisateur.substring(1).toLowerCase();</span>
<span class="fc" id="L120">                res = saisieUtilisateur;</span>
<span class="fc" id="L121">                return res;</span>
            }

            //cas ou chaine en entree a un seul caractere
<span class="nc bnc" id="L125" title="All 2 branches missed.">            if (saisieUtilisateur.length() == 1)</span>
            {
<span class="nc" id="L127">                saisieUtilisateur = saisieUtilisateur.substring(0, 1).toUpperCase();</span>
<span class="nc" id="L128">                res = saisieUtilisateur;</span>
<span class="nc" id="L129">                return res;</span>
            }

            //cas ou la chaine en entree est une chaine vide
<span class="nc" id="L133">            return res;</span>
        }

    /**
     * Verifier que le mot de passe comporte au moins 1 majuscule, 1 minuscule et 1 chiffre
     * @param input le mot de passe en entree
     * @return true si le mot de passe est correct, false sinon
     */
    public static boolean checkString(String input) {
        char currentCharacter;
<span class="fc" id="L143">        boolean numberPresent = false;</span>
<span class="fc" id="L144">        boolean upperCasePresent = false;</span>
<span class="fc" id="L145">        boolean lowerCasePresent = false;</span>

<span class="fc bfc" id="L147" title="All 2 branches covered.">        for (int i = 0; i &lt; input.length(); i++) {</span>
<span class="fc" id="L148">            currentCharacter = input.charAt(i);</span>
<span class="fc bfc" id="L149" title="All 2 branches covered.">            if (Character.isDigit(currentCharacter)) {</span>
<span class="fc" id="L150">                numberPresent = true;</span>
<span class="fc bfc" id="L151" title="All 2 branches covered.">            } else if (Character.isUpperCase(currentCharacter)) {</span>
<span class="fc" id="L152">                upperCasePresent = true;</span>
<span class="pc bpc" id="L153" title="1 of 2 branches missed.">            } else if (Character.isLowerCase(currentCharacter)) {</span>
<span class="fc" id="L154">                lowerCasePresent = true;</span>
            }
        }

<span class="fc bfc" id="L158" title="All 6 branches covered.">        return</span>
                numberPresent &amp;&amp; upperCasePresent &amp;&amp; lowerCasePresent;
    }

    /**
     * Savoir si la chaine comporte un carractere special
     * @param input la chaine de caractere en entree
     * @return true si la input contient un caractere special, false sinon
     */
    public static boolean checkCaractereSpeciaux(String input) {
<span class="fc" id="L168">        String specialChars = &quot;~`[]#$%^&amp;** ()-__=+\\|[{]};:'\&quot;,&lt;.&gt;/?@&quot;;</span>
        char currentCharacter;
<span class="fc" id="L170">        boolean specialCharacterPresent = false;</span>

<span class="fc bfc" id="L172" title="All 2 branches covered.">        for (int i = 0; i &lt; input.length(); i++) {</span>
<span class="fc" id="L173">            currentCharacter = input.charAt(i);</span>
<span class="fc bfc" id="L174" title="All 2 branches covered.">            if (specialChars.contains(String.valueOf(currentCharacter))) {</span>
<span class="fc" id="L175">                specialCharacterPresent = true;</span>
            }
        }

<span class="fc" id="L179">        return specialCharacterPresent;</span>
    }

    /**
     *
     * @param titre le titre de la boite de dialogue
     * @param nombre permet de differencie les cas
     */
    public Object[] creerBoiteDialogue (String titre, int nombre) throws IOException {
        //Charger le fichir fmxl
<span class="nc" id="L189">        String nomFXML=&quot;&quot;;</span>
        FXMLLoader loader;

<span class="nc bnc" id="L192" title="All 7 branches missed.">        switch(nombre)</span>
        {
            case 0:
<span class="nc" id="L195">                nomFXML = &quot;../ressources/boiteDialogueParametres.fxml&quot;;</span>
<span class="nc" id="L196">                break;</span>

            case 1 :
<span class="nc" id="L199">                nomFXML = &quot;../ressources/boiteDialogueArticle.fxml&quot;;</span>
<span class="nc" id="L200">                break;</span>

            case 2:
<span class="nc" id="L203">                nomFXML = &quot;../ressources/boiteDialogueReservationArticle.fxml&quot;;</span>
<span class="nc" id="L204">                break;</span>

            case 3:
<span class="nc" id="L207">                nomFXML = &quot;../ressources/boiteDialogueTransfererArticle.fxml&quot;;</span>
<span class="nc" id="L208">                break;</span>

            case 4:
<span class="nc" id="L211">                nomFXML = &quot;../ressources/boiteDialogueRayon.fxml&quot;;</span>
<span class="nc" id="L212">                break;</span>

            case 5:
<span class="nc" id="L215">                nomFXML = &quot;../ressources/boiteDialogueVendeur.fxml&quot;;</span>
<span class="nc" id="L216">                break;</span>

            default:
                //Ne devrait pas arriver
        }

<span class="nc" id="L222">        loader = new FXMLLoader(getClass().getResource(nomFXML));</span>
<span class="nc" id="L223">        Parent parent = loader.load();</span>

        // Creer le stage pour la boite de dialogue
<span class="nc" id="L226">        Stage dialogStage = new Stage();</span>
<span class="nc" id="L227">        dialogStage.setTitle(titre);</span>
<span class="nc" id="L228">        dialogStage.initModality(Modality.WINDOW_MODAL);</span>
<span class="nc" id="L229">        dialogStage.initOwner(Main.getPrimaryStage());</span>
<span class="nc" id="L230">        Scene scene = new Scene(parent);</span>
<span class="nc" id="L231">        dialogStage.setScene(scene);</span>

<span class="nc" id="L233">        Object [] res = new Object[2];</span>
<span class="nc" id="L234">        res[0] = loader;</span>
<span class="nc" id="L235">        res[1] = dialogStage;</span>

<span class="nc" id="L237">        return  res;</span>
    }
}
</pre><div class="footer"><span class="right">Created with <a href="http://www.jacoco.org/jacoco">JaCoCo</a> 0.8.2.201808211720</span></div></body></html>